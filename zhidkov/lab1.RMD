---
title: "Лабораторная работа №1"
author: "Ilya Zhidkov"
output: html_document
---

## Исходные данные
Экспоненциальное распределение определяется следующей функцией распределения:
```
F(x) = 1 - e^(-λ⋅x)

```
```{r}
lambda.values<-c(1, 0.1, 0.5, 5, 10)
```
Функция ``rexp`` генерирует случайные переменные при помощи экспоненциального распределения
``rexp(n=42, rate=5)`` вернёт 42 экспоненциально-распределённых числа с параметром (λ) равным 5. 
Ели второй аргумент не указан, будет использовано значение 1 т.е. получим "стандартное экспоненциальное распределение".


**Задание 1**   
1. Сгенерируйте 200 случайных значений из стандартного экспоненциального распределения и сохраните в вектор
_exp.1_. Найдите среднее и стандартное отклонение из данных этого вектора.

```{r}
exp.1<-c(rexp(n=200))
# Среднее отклонение
mean(exp.1) 
# Стандартное отклонение 
sd(exp.1)
```
2. Повторите, использовав следующие значения параметра λ: 0.1, 0.5, 5, 10, и сохраните результаты в векторы: 
_exp.0.1_, _exp.0.5_, _exp.5_, _exp.10_.

```{r}
# λ=0.1
exp.0.1<-c(rexp(n=200, rate=0.1))
mean(exp.0.1) 
sd(exp.0.1)

# λ=0.5
exp.0.5<-c(rexp(n=200, rate=0.5))
mean(exp.0.5) 
sd(exp.0.5)

# λ=5
exp.5<-c(rexp(n=200, rate=5))
mean(exp.5) 
sd(exp.5)

# λ=10
exp.10<-c(rexp(n=200, rate=10))
mean(exp.10) 
sd(exp.10)
```

3. Используйте функцию ``hist()`` для построения гистограммы полученного ранее стандартного распределения.

```{r}
  hist(exp.1)
```
  
4. Используйте функцию ``plot()`` с тем же самым вектором для построения графика значений в порядке следования.

```{r}
  plot(exp.1)
```
  
5. Используйте функцию ``plot()`` с любыми двумя полученными ранее векторами, чтобы получить диаграмму рассеяния этих векторов относительно друг друга.

```{r}
  plot(exp.1, exp.10)
  title('Экспоненциальное распределение при λ=10 от ... при λ=1')
```
  
6. Теперь сравним свойства всех наших векторов. Для начала создадим вектор,
содержащий средние значения каждого из 5 полученных ранее распределений в порядке их создания.
Полученный вектор сохраним в переменную _exp.means_. 

```{r}
exp.means<-c(mean(exp.1), mean(exp.0.1), mean(exp.0.5), mean(exp.5), mean(exp.10))    
```

7. Далее необходимо создать следующие диаграммы рассеяния:    
  7.1. Вектор с пятью средними относительно каждого из пяти векторов с различными значениями λ.
  
```{r}
  plot(lambda.values, exp.means)
  grid (lty = 9, col = "blue")
  axis(1, 1:20)
  axis(2, 1:20)
```

  7.2. Вектор с пятью стандартными отклонениями относительно каждого из пяти векторов с различными значениями λ.
  
```{r}
  exp.sds<-c(sd(exp.1), sd(exp.0.1), sd(exp.0.5), sd(exp.5), sd(exp.10))
  plot(lambda.values, exp.sds)
  grid (lty = 9, col = "blue")
  axis(1, 1:20)
  axis(2, 1:20)
```

  7.3. Вектор с пятью средними относительно вектора с пятью стандартными отклонениями.
  
```{r}
  plot(exp.means, exp.sds)
  grid (lty = 9, col = "blue") 
  axis(1, 1:20)
  axis(2, 1:20)
```

**Выводы:**   
Среднее и стандартное отклонения экспоненциального распределения обратно пропорциональны значению λ.    
Значения среднего и стандартного отклонения имеют прямую линейную зависимость


## Задание 2
R достаточно производителен, чтобы вычислять относительно большие объёмы данных.
* Для демонстрации сгенерируйте 1100000 (1 млн. 100 тысяч) чисел из стандартного экспоненциального распределения
и сохраните их в вектор _huge.exp.1_. Получите среднее и стандартное отклонение.

```{r}
huge.exp.1<-c(rexp(n=1100000))
mean(huge.exp.1)
sd(huge.exp.1)
```

* Получите гистограмму _huge.exp.1_. Она соответствует функции ``1 - e:^(-x)``? Должна ли?

```{r}
hist(huge.exp.1)
```

**Ответ**   
Соответствует. Да, должна, так как данный вектор также получен функцией для задания стандартного экпоненциального отклонения.    

* Получите среднее всех чисел из _huge.exp.1_ строго больших 1. Для проверки выборки может потребоваться новый вектор.

```{r}
huge.exp.1.more_one_mean <- mean(huge.exp.1[huge.exp.1 > 1])
huge.exp.1.more_one_mean
```

* Получите матрицу _huge.exp.1.mat_, содержащую 1100 строк и 1000 колонок. Постройте гистограмму, использовав полученную матрицу.

```{r}
huge.exp.1.mat<-matrix(huge.exp.1, 1100, 1000)
hist(huge.exp.1.mat)
```

Что можно сказать о полученных данных?    
Гистограмма матрицы соответсвует гистограмме экспоненциального распределения.   

* Рассчитайте среднее 137-й колонки из _huge.exp.1.mat_.

```{r}
mean(huge.exp.1.mat[,137])
```

* Найдите среднее всей 1000 колонок и сохраните их в вектор. Отобразите диаграмму средних зннчений колонок.
Объясните почему форма диаграммы отличается от виденных ранее.

```{r}
huge.exp.1.mat.means <- colMeans(huge.exp.1.mat)
barplot(huge.exp.1.mat.means)
hist(huge.exp.1.mat.means)
```

**Ответ**   
Потому что в данном случае мы работаем со средними значениями.

* Рассчитайте квадрат каждого значения из _huge.exp.1_ и найдите среднее и стандартное отклонение полученного вектора квадратов.
Объясните отличие от соответствующих показателей вектора _huge.exp.1_. Вам может помочь формула, по которой R рассчитывает
стандартное отклонение: ``sqrt(sum((x - mean(x))^2) / (n - 1))``.

```{r}
huge.exp.1.square <- huge.exp.1 ^ 2
huge.exp.1.square.mean <- mean(huge.exp.1.square)
huge.exp.1.square.sd <- sd(huge.exp.1.square)

print(huge.exp.1.square.mean)
print(huge.exp.1.square.sd)
```

**Ответ:**    
Среднее и стандартное отклонения увеличиваются с увеличением значений вектора.     
Стандартное растет быстрее из-за квадрата в формуле его вычисления.